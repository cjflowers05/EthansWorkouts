<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Workout Day</title>
  <style>
    body {
      background-color: #1a1a1a;
      color: #33fff3;
      font-family: -apple-system, BlinkMacSystemFont, sans-serif;
      padding: 1rem;
    }
    h1 {
      color: #33fff3;
      text-shadow: 0 0 2px #ff33cc;
    }
    .card {
      background-color: #2c2c2c;
      border-radius: 12px;
      padding: 1rem;
      margin-bottom: 1rem;
      box-shadow: 0 2px 5px rgba(0,255,150,0.2);
    }
    ul {
      list-style: none;
      padding: 0;
    }
    li {
      margin: 0.5rem 0;
    }
    textarea {
      width: 100%;
      margin-top: 1rem;
      padding: 0.5rem;
      border-radius: 6px;
      border: none;
      background-color: #333;
      color: #fff;
    }
    button {
      background-color: #ff33cc;
      color: #fff;
      border: none;
      padding: 0.6rem 1rem;
      font-size: 1rem;
      border-radius: 8px;
      margin: 0.25rem;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>Workout for <span id="dateTitle"></span></h1>

  <div class="card">
    <h2>Suggested Workouts</h2>
    <button onclick="suggestWorkout()">Suggest Workout</button>
    <button onclick="suggestCardio()">Suggest Cardio Workout</button>
    <button onclick="suggestSoccerDrills('dribbling')">‚öΩ Dribbling Drills</button>
    <button onclick="suggestSoccerDrills('shooting')">üéØ Shooting Drills</button>
    <button onclick="suggestSoccerDrills('ballHandling')">‚öΩ Ball Handling Drills</button>
    <button onclick="suggestSoccerDrills('cone')">üü¢ Cone Drills</button>
    <button onclick="suggestSoccerDrills('speed')">üèÉ Speed Drills</button>
    <button onclick="suggestSoccerDrills('vertical')">‚¨ÜÔ∏è Vertical Leap</button>
    <button onclick="suggestSoccerDrills('explosive')">üí• Explosiveness</button>
    <button onclick="suggestSoccerDrills('rebounder')">ü™© Rebounder</button>
    <button onclick="suggestSoccerDrills('defense')">üõ°Ô∏è Defensive Drills</button>
    <button onclick="suggestSoccerDrills('offense')">üî• Offensive Drills</button>
  </div>

  <div id="workoutList"></div>

  <textarea id="notes" rows="5" placeholder="Add notes here..."></textarea><br>
  <button onclick="saveData()">Save Workout</button>
  <br><button onclick="window.location.href='index.html'">üè† Back to Home</button>

  <script>
    const params = new URLSearchParams(window.location.search);
    const date = params.get('date');
    document.getElementById('dateTitle').textContent = date || 'Unknown Date';

    const workoutKey = `exercises-${date}`;
    const notesKey = `notes-${date}`;

    let savedWorkout = JSON.parse(localStorage.getItem(workoutKey) || '[]');
    const savedNotes = localStorage.getItem(notesKey) || '';

    const workoutList = document.getElementById('workoutList');
    const notesBox = document.getElementById('notes');
    notesBox.value = savedNotes;

    function renderWorkout() {
      if (savedWorkout.length === 0) {
        workoutList.innerHTML = '<p>No workout saved for this day.</p>';
        return;
      }
      workoutList.innerHTML = '<ul>' + savedWorkout.map((e, i) => `
        <li>
          <label><input type="checkbox" onchange="toggleCheck(${i})"> ${e.name} (${e.difficulty || 'Medium'})</label>
          ${e.url ? `<br><a href="${e.url}" target="_blank">Demo Video</a>` : ''}
        </li>`).join('') + '</ul>';
    }

    function toggleCheck(index) {
      const exercise = savedWorkout[index];
      const text = `‚úî ${exercise.name}`;
      if (!notesBox.value.includes(text)) {
        notesBox.value += `\n${text}`;
        saveData();
      }
    }

    function saveData() {
      localStorage.setItem(workoutKey, JSON.stringify(savedWorkout));
      localStorage.setItem(notesKey, notesBox.value);
      alert('Saved!');
    }

    function suggestWorkout() {
      const options = [
        { name: 'Push-Ups 4x10', difficulty: 'Medium' },
        { name: 'Pull-Ups 4x6', difficulty: 'Hard' },
        { name: 'Squats 4x10', difficulty: 'Medium' },
        { name: 'Deadlifts 4x8', difficulty: 'Hard' },
        { name: 'Overhead Press 4x10', difficulty: 'Medium' },
        { name: 'Bent-Over Row 4x10', difficulty: 'Medium' },
        { name: 'Lunges 4x10 each leg', difficulty: 'Medium' }
      ];
      savedWorkout = options;
      renderWorkout();
    }

    function suggestCardio() {
      const options = [
        { name: 'Treadmill - 30 min', difficulty: 'Easy' },
        { name: 'Bike - 30 min', difficulty: 'Easy' },
        { name: 'Row - 30 min', difficulty: 'Medium' },
        { name: 'Jump Rope - 10 min', difficulty: 'Medium' },
        { name: 'Burpees - 4x15', difficulty: 'Hard' },
        { name: 'Mountain Climbers - 4x30 sec', difficulty: 'Medium' },
        { name: 'High Knees - 4x1 min', difficulty: 'Medium' }
      ];
      savedWorkout = options;
      renderWorkout();
    }

    function suggestSoccerDrills(type) {
      const drills = {
        // All your soccer drills go here (already in your code)
      };
      savedWorkout = drills[type].map(item => typeof item === 'string' ? { name: item, url: '', difficulty: 'Medium' } : item);
      renderWorkout();
    }

    renderWorkout();
  </script>
</body>
</html>
